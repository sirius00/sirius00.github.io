<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Webpackçš„ä½¿ç”¨ | XP&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="webpack å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm æŸ¥çœ‹nodeç‰ˆæœ¬ node -v å…¨å±€å®‰è£…webpack npm install webpack@3.6.0 -g æœ¬åœ°å®‰è£…webpack åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npm install webpack@3.6.0 --save-dev webpackçš„åŸºæœ¬ä½¿ç”¨ é¡¹ç›®æ–‡ä»¶ç›®å½•: é¡¹ç›® dist //æ‰“åŒ…å¥½çš„æ–‡ä»¶ src //é¡¹ç›®æºç  webpack æ‰“åŒ…jsæ–‡ä»¶ å¸¸è§„æ–¹å¼ åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ webpack">
<meta name="author" content="
ä½œè€…:&nbsp;XP">
<link rel="canonical" href="https://sirius00.github.io/posts/tech/webpack%E7%9A%84%E4%BD%BF%E7%94%A8/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a6c679e0d2f6e83a8f1aad1f7a2cdc96085c188647e679dbc62800f83be6bad2.css" integrity="sha256-psZ54NL26DqPGq0feizclghcGIZH5nnbxigA&#43;DvmutI=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
        onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://sirius00.github.io/img/cat.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://sirius00.github.io/img/cat.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sirius00.github.io/img/cat.png">
<link rel="apple-touch-icon" href="https://sirius00.github.io/img/cat.png">
<link rel="mask-icon" href="https://sirius00.github.io/img/cat.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="Webpackçš„ä½¿ç”¨" />
<meta property="og:description" content="webpack å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm æŸ¥çœ‹nodeç‰ˆæœ¬ node -v å…¨å±€å®‰è£…webpack npm install webpack@3.6.0 -g æœ¬åœ°å®‰è£…webpack åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npm install webpack@3.6.0 --save-dev webpackçš„åŸºæœ¬ä½¿ç”¨ é¡¹ç›®æ–‡ä»¶ç›®å½•: é¡¹ç›® dist //æ‰“åŒ…å¥½çš„æ–‡ä»¶ src //é¡¹ç›®æºç  webpack æ‰“åŒ…jsæ–‡ä»¶ å¸¸è§„æ–¹å¼ åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ webpack" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sirius00.github.io/posts/tech/webpack%E7%9A%84%E4%BD%BF%E7%94%A8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-22T09:46:05+08:00" />
<meta property="article:modified_time" content="2023-02-22T09:46:05+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Webpackçš„ä½¿ç”¨"/>
<meta name="twitter:description" content="webpack å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm æŸ¥çœ‹nodeç‰ˆæœ¬ node -v å…¨å±€å®‰è£…webpack npm install webpack@3.6.0 -g æœ¬åœ°å®‰è£…webpack åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npm install webpack@3.6.0 --save-dev webpackçš„åŸºæœ¬ä½¿ç”¨ é¡¹ç›®æ–‡ä»¶ç›®å½•: é¡¹ç›® dist //æ‰“åŒ…å¥½çš„æ–‡ä»¶ src //é¡¹ç›®æºç  webpack æ‰“åŒ…jsæ–‡ä»¶ å¸¸è§„æ–¹å¼ åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ webpack"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "ğŸ“šæ–‡ç« ",
          "item": "https://sirius00.github.io/posts/"
        },

        {
          "@type": "ListItem",
          "position":  2 ,
          "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
          "item": "https://sirius00.github.io/posts/tech/"
        }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Webpackçš„ä½¿ç”¨",
      "item": "https://sirius00.github.io/posts/tech/webpack%E7%9A%84%E4%BD%BF%E7%94%A8/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Webpackçš„ä½¿ç”¨",
  "name": "Webpackçš„ä½¿ç”¨",
  "description": "webpack å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm æŸ¥çœ‹nodeç‰ˆæœ¬ node -v å…¨å±€å®‰è£…webpack npm install webpack@3.6.0 -g æœ¬åœ°å®‰è£…webpack åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ npm install webpack@3.6.0 --save-dev webpackçš„åŸºæœ¬ä½¿ç”¨ é¡¹ç›®æ–‡ä»¶ç›®å½•: é¡¹ç›® dist //æ‰“åŒ…å¥½çš„æ–‡ä»¶ src //é¡¹ç›®æºç  webpack æ‰“åŒ…jsæ–‡ä»¶ å¸¸è§„æ–¹å¼ åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ webpack",
  "keywords": [
    ""
  ],
  "articleBody": "webpack å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm\næŸ¥çœ‹nodeç‰ˆæœ¬\nnode -v\nå…¨å±€å®‰è£…webpack\nnpm install webpack@3.6.0 -g\næœ¬åœ°å®‰è£…webpack\nåœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ\nnpm install webpack@3.6.0 --save-dev\nwebpackçš„åŸºæœ¬ä½¿ç”¨ é¡¹ç›®æ–‡ä»¶ç›®å½•: é¡¹ç›®\ndist //æ‰“åŒ…å¥½çš„æ–‡ä»¶\nsrc //é¡¹ç›®æºç \nwebpack æ‰“åŒ…jsæ–‡ä»¶ å¸¸è§„æ–¹å¼ åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹\nwebpack ./src/main.js ./dist/bundle.js ç®€æ´çš„æ–¹å¼ åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºwebpack.config.jsæ–‡ä»¶\n//ä»nodeä¸­å¼•å…¥åŒ…å†…å®¹ //åœ¨ä½¿ç”¨å‰éœ€è¦åœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œ`npm init`å‘½ä»¤ const path = require('path') module.exports = { //å…¥å£ entry:'./src/main.js', //å‡ºå£ output: { //åŠ¨æ€è·å–è·¯å¾„ //ç”¨äºæ‹¼æ¥ä¸¤ä¸ªå˜é‡ path: path.resolve(__dirname, 'dist'), filename: 'bundle.js' } } //ä¾¿æ·æ‰“åŒ…æ–¹å¼:ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥'webpack',å°±å¯ä»¥æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ æ›´é«˜æ•ˆçš„æ–¹å¼ åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤:\nnpm init\nä¿®æ”¹package.jsonæ–‡ä»¶\n\"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\", //ä½¿ç”¨ npm run buildæ‰§è¡Œ //ä¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬webpack \"build\": \"webpack\" }, loader å®‰è£…loader é…ç½®loader ä¿®æ”¹åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„webpack.config.jsæ–‡ä»¶\nåœ¨module.exportsä¸­æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†\n//css-loader module: { rules: [ { test: /\\.css$/, //css-loader åªè´Ÿè´£å°†cssæ–‡ä»¶è¿›è¡ŒåŠ è½½ //style-loaderè´Ÿè´£å°†æ ·å¼æ·»åŠ åˆ°DOMä¸­ //ä½¿ç”¨å¤šä¸ªloaderæ—¶,æ˜¯ä»å³å‘å·¦è¯»å–çš„ use: [ 'style-loader', 'css-loader'], }, ], }, å®‰è£…css-loader ä»¥ä¸‹å‘½ä»¤é»˜è®¤å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„css-loader\nnpm install --save-dev css-lader\nåœ¨macä¸­,ç”±äºå®‰è£…çš„webpack3.6.0ç‰ˆæœ¬,ç›´æ¥æ‰§è¡Œä»¥ä¸Šå‘½ä»¤,å®¹æ˜“å‡ºç°é”™è¯¯(ç‰ˆæœ¬ä¸åŒ¹é…):\n![image-20220311172138730](/Users/cobb/Library/Application Support/typora-user-images/image-20220311172138730.png)\næŒ‡å®šç‰ˆæœ¬å®‰è£…æ–¹æ³•:\nnpm install --save-dev css-loader@0.28.11\nå®‰è£…style-loader å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„:\nnpm install style-loader --save-dev\nå®‰è£…webpack3.6.0é€‚é…ç‰ˆæœ¬style-loader\nnpm install --save-dev style-loader@0.15.0\nlessæ–‡ä»¶å¤„ç† å®‰è£…å¯¹åº”webpack3.6.0ç‰ˆæœ¬çš„lesså’Œless-loader\nnpm install --save-dev less-loader@5.0.0 less@3.13.1\nå›¾ç‰‡æ–‡ä»¶å¤„ç† å®‰è£…url-loader\nnpm install --save-devurl-loader@1.1.2\nåœ¨webpack.config.jsæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹éƒ¨åˆ†:\n{ test: /\\.(png|jpg|gif|jpeg)$/i, use: [ { loader: 'url-loader', options: { //å½“åŠ è½½çš„å›¾ç‰‡,å°äºlimitæ—¶,ä¼šå°†å›¾ç‰‡ç¼–è¯‘æˆbase64å­—ç¬¦ä¸²çš„å½¢å¼ //å½“åŠ è½½çš„å›¾ç‰‡å¤§äºlimitæ—¶,éœ€è¦ä½¿ç”¨file-loaderæ¨¡å—è¿›è¡ŒåŠ è½½ limit: 50000, //åœ¨distæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆimgæ–‡ä»¶å¤¹ä»¥åŠå’ŒåŸå›¾ç‰‡åŒåçš„æ–‡ä»¶ name: 'img/[name].[hash:8].[ext]' }, } ] } ES6è½¬ES5è¯­æ³• ä½¿ç”¨babel-loader\nå¼•å…¥vue.js é€šè¿‡npmå®‰è£…vue å› ä¸ºåœ¨åç»­çš„å®é™…é¡¹ç›®ä¸­ä¹Ÿä¼šä½¿ç”¨vue,æ‰€ä»¥å¹¶ä¸æ˜¯å¼€å‘æ—¶ä¾èµ–,ä¸ç”¨åŠ **-dev** npm install vue --save åœ¨jsæ–‡ä»¶ä¸­å¼•å…¥vue import Vue from vue å‡ºç°runtime-onlyé”™è¯¯:\nåŸå› :\nruntime-only,ä»£ç ä¸­ä¸å¯ä»¥æœ‰ä»»ä½•çš„template runtime-compiler,ä»£ç ä¸­å¯ä»¥æœ‰template,å› ä¸ºæœ‰compilerå¯ä»¥ç¼–è¯‘template è§£å†³åŠæ³•:åœ¨webpack.config.jsæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹:\nresolve:{ alias:{ 'vue$': 'vue/dist/vue.esm.js' } vueåº”ç”¨ä¸­â€™elâ€™å’Œâ€™templateâ€™åŒºåˆ« templateä¼šå°†elä¸­çš„å†…å®¹è¿›è¡Œæ›¿æ¢\næ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼ å®‰è£…vue-loaderå’Œvue-template-compiler\né…ç½®webpack.config.js\n{ test: /\\.vue$/, use: ['vue-loader'] } åœ¨srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºvueæ–‡ä»¶å¤¹\n![image-20220312151241214](/Users/cobb/Library/Application Support/typora-user-images/image-20220312151241214.png)\nPlugin æ·»åŠ ç‰ˆæƒçš„plugin ä½¿ç”¨bannerpluginæ’ä»¶,webpackè‡ªå¸¦æ’ä»¶\nä¿®æ”¹webpack.config.jsæ–‡ä»¶\næ‰“åŒ…htmlçš„plugin HtmlWebpackPluginæ’ä»¶å¯ä»¥åšçš„äº‹æƒ…:\nè‡ªåŠ¨æ‰“åŒ…ç”Ÿæˆä¸€ä¸ªindex.htmlæ–‡ä»¶(å¯ä»¥æŒ‡å®šæ¨¡æ¿æ¥ç”Ÿæˆ) å°†æ‰“åŒ…çš„jsæ–‡ä»¶,è‡ªåŠ¨é€šè¿‡scriptæ ‡ç­¾æ’å…¥åˆ°badyä¸­ å®‰è£…ä¹‹åé…ç½®webpack.config.jsæ–‡ä»¶å¦‚ä¸‹:\nnew HtmlWebpackPlugin({ //æ ¹æ®ä»¥ä¸‹æ¨¡æ¿ç”Ÿæˆ template: `index.html` }) jså‹ç¼©çš„Plugin ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ’ä»¶Uglifyjs-webpack-plugin\néœ€è¦æŒ‡å®šç‰ˆæœ¬å·1.1.1,ä¿æŒå’ŒCIL2ä¸€è‡´\nnpm install --save-dev uglifyjs-webpack-plugin@1.1.1\næ­å»ºæœ¬åœ°æœåŠ¡å™¨ è¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäºnode.js,å†…éƒ¨ä½¿ç”¨expressæ¡†æ¶,å¯ä»¥å®ç°æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºä¿®æ”¹åçš„ç»“æœ\nå®‰è£…: npm install --save-dev webpack-dev-server@2.9.3\nè®¾ç½®:\ndevserverä¹Ÿæ˜¯ä½œä¸ºwebpackä¸­çš„ä¸€ä¸ªé€‰é¡¹,å¯ä»¥è®¾ç½®å¦‚ä¸‹å±æ€§:\ncontentBase:ä¸ºå“ªä¸€ä¸ªæ–‡ä»¶å¤¹æä¾›æœ¬åœ°æœåŠ¡ port:ç«¯å£å· inline:é¡µé¢å®æ—¶åˆ·æ–° historyApiFallback:åœ¨SPAé¡µé¢ä¸­,ä¾èµ–html5çš„historyæ¨¡å¼ å¯åŠ¨æ–¹å¼:\nåœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ : \"dev\": \"webpack-dev-derver\" åœ¨åé¢æ·»åŠ  --open ,èƒ½å¤Ÿåœ¨å¯åŠ¨æœåŠ¡å™¨çš„åŒæ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ åœ¨ç»ˆç«¯ä¸­è¾“å…¥: npm rundev webpacké…ç½®çš„åˆ†ç¦» é¦–å…ˆå¯¹webpack.config.jsæ–‡ä»¶è¿›è¡ŒæŠ½ç¦»,åˆ†æˆä¸‰éƒ¨åˆ†: base.config.js dev.config.js prod.config.js å®‰è£…-webpack-mergeæ’ä»¶,å®ç°configæ–‡ä»¶çš„ä¸¤ä¸¤åˆå¹¶ åœ¨package.jsonæ–‡ä»¶ä¸­ä¿®æ”¹\"build\"å’Œ\"dev\"çš„è¿è¡Œè·¯å¾„ BUGè®°å½• å®‰è£…npmå‡ºç°é”™è¯¯:\nnpm ERR! code EACCES npm ERR! syscall rename npm ERR! path /usr/local/lib/node_modules/npm npm ERR! dest /usr/local/lib/node_modules/.npm-i9nnxROI npm ERR! errno -13 npm ERR! Error: EACCES: permission denied, rename '/usr/local/lib/node_modules/npm' -\u003e '/usr/local/lib/node_modules/.npm-i9nnxROI' npm ERR! [Error: EACCES: permission denied, rename '/usr/local/lib/node_modules/npm' -\u003e '/usr/local/lib/node_modules/.npm-i9nnxROI'] { npm ERR! errno: -13, npm ERR! code: 'EACCES', npm ERR! syscall: 'rename', npm ERR! path: '/usr/local/lib/node_modules/npm', npm ERR! dest: '/usr/local/lib/node_modules/.npm-i9nnxROI' npm ERR! } npm ERR! npm ERR! The operation was rejected by your operating system. npm ERR! It is likely you do not have the permissions to access this file as the current user npm ERR! npm ERR! If you believe this might be a permissions issue, please double-check the npm ERR! permissions of the file and its containing directories, or try running npm ERR! the command again as root/Administrator. npm ERR! A complete log of this run can be found in: npm ERR! /Users/cobb/.npm/_logs/2022-03-10T13_55_54_267Z-debug.log è§£å†³åŠæ³•:\néœ€è¦åœ¨å‘½ä»¤å‰åŠ ä¸Š ==sudo==\n",
  "wordCount" : "2141",
  "inLanguage": "en",
  "datePublished": "2023-02-22T09:46:05+08:00",
  "dateModified": "2023-02-22T09:46:05+08:00",
  "author":[{
    "@type": "Person",
    "name": "XP"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sirius00.github.io/posts/tech/webpack%E7%9A%84%E4%BD%BF%E7%94%A8/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "XP's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sirius00.github.io/img/cat.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>



<script async src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sirius00.github.io/" accesskey="h" title="XP&#39;s Blog (Alt + H)">
            <img src="https://sirius00.github.io/img/cat.png" alt="logo" aria-label="logo"
                 height="35">XP&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sirius00.github.io/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://sirius00.github.io/" title="ğŸ  ä¸»é¡µ">
                <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://sirius00.github.io/posts" title="ğŸ“š æ–‡ç« ">
                <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://sirius00.github.io/tags" title="ğŸ§© æ ‡ç­¾">
                <span>ğŸ§© æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://sirius00.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://sirius00.github.io/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="https://sirius00.github.io/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://sirius00.github.io/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://sirius00.github.io/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div>
            <h1 class="post-title">
                Webpackçš„ä½¿ç”¨
            </h1>
            <div class="post-meta">åˆ›å»º:&nbsp;<span title='2023-02-22 09:46:05 +0800 CST'>2023-02-22</span>&nbsp;|&nbsp;æ›´æ–°:&nbsp;2023-02-22&nbsp;|&nbsp;å­—æ•°:&nbsp;2141å­—&nbsp;|&nbsp;æ—¶é•¿:&nbsp;5åˆ†é’Ÿ&nbsp;|&nbsp;
ä½œè€…:&nbsp;XP



                &nbsp;|&nbsp;æ ‡ç­¾: &nbsp;
                <ul class="post-tags-meta">
                    <a href="https://sirius00.github.io/tags/tool/">tool</a>
                    <a href="https://sirius00.github.io/tags/%E5%89%8D%E7%AB%AF/">ã€å‰ç«¯</a>
                </ul>

                
                <span id="busuanzi_container_page_pv">
                &nbsp;| è®¿é—®: <span id="busuanzi_value_page_pv"></span>
            </span>

</div>
        </header> 
        <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#webpack-%e5%ae%89%e8%a3%85" aria-label="webpack å®‰è£…">webpack å®‰è£…</a></li>
                <li>
                    <a href="#webpack%e7%9a%84%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8" aria-label="webpackçš„åŸºæœ¬ä½¿ç”¨">webpackçš„åŸºæœ¬ä½¿ç”¨</a><ul>
                        
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95" aria-label="é¡¹ç›®æ–‡ä»¶ç›®å½•:">é¡¹ç›®æ–‡ä»¶ç›®å½•:</a></li>
                <li>
                    <a href="#webpack-%e6%89%93%e5%8c%85js%e6%96%87%e4%bb%b6" aria-label="webpack æ‰“åŒ…jsæ–‡ä»¶">webpack æ‰“åŒ…jsæ–‡ä»¶</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e8%a7%84%e6%96%b9%e5%bc%8f" aria-label="å¸¸è§„æ–¹å¼">å¸¸è§„æ–¹å¼</a></li>
                <li>
                    <a href="#%e7%ae%80%e6%b4%81%e7%9a%84%e6%96%b9%e5%bc%8f" aria-label="ç®€æ´çš„æ–¹å¼">ç®€æ´çš„æ–¹å¼</a></li>
                <li>
                    <a href="#%e6%9b%b4%e9%ab%98%e6%95%88%e7%9a%84%e6%96%b9%e5%bc%8f" aria-label="æ›´é«˜æ•ˆçš„æ–¹å¼">æ›´é«˜æ•ˆçš„æ–¹å¼</a></li></ul>
                </li>
                <li>
                    <a href="#loader" aria-label="loader">loader</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85loader" aria-label="å®‰è£…loader">å®‰è£…loader</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%aeloader" aria-label="é…ç½®loader">é…ç½®loader</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85css-loader" aria-label="å®‰è£…css-loader">å®‰è£…css-loader</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85style-loader" aria-label="å®‰è£…style-loader">å®‰è£…style-loader</a></li>
                <li>
                    <a href="#less%e6%96%87%e4%bb%b6%e5%a4%84%e7%90%86" aria-label="lessæ–‡ä»¶å¤„ç†">lessæ–‡ä»¶å¤„ç†</a></li>
                <li>
                    <a href="#%e5%9b%be%e7%89%87%e6%96%87%e4%bb%b6%e5%a4%84%e7%90%86" aria-label="å›¾ç‰‡æ–‡ä»¶å¤„ç†">å›¾ç‰‡æ–‡ä»¶å¤„ç†</a></li>
                <li>
                    <a href="#es6%e8%bd%aces5%e8%af%ad%e6%b3%95" aria-label="ES6è½¬ES5è¯­æ³•">ES6è½¬ES5è¯­æ³•</a></li>
                <li>
                    <a href="#%e5%bc%95%e5%85%a5vuejs" aria-label="å¼•å…¥vue.js">å¼•å…¥vue.js</a><ul>
                        
                <li>
                    <a href="#%e9%80%9a%e8%bf%87npm%e5%ae%89%e8%a3%85vue" aria-label="é€šè¿‡npmå®‰è£…vue">é€šè¿‡npmå®‰è£…vue</a></li>
                <li>
                    <a href="#vue%e5%ba%94%e7%94%a8%e4%b8%adel%e5%92%8ctemplate%e5%8c%ba%e5%88%ab" aria-label="vueåº”ç”¨ä¸­&amp;rsquo;el&amp;rsquo;å’Œ&amp;rsquo;template&amp;rsquo;åŒºåˆ«">vueåº”ç”¨ä¸­&rsquo;el&rsquo;å’Œ&rsquo;template&rsquo;åŒºåˆ«</a></li>
                <li>
                    <a href="#%e6%ad%a3%e7%a1%ae%e4%bd%bf%e7%94%a8vue%e7%9a%84%e6%96%b9%e5%bc%8f" aria-label="æ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼">æ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#plugin" aria-label="Plugin">Plugin</a><ul>
                        
                <li>
                    <a href="#%e6%b7%bb%e5%8a%a0%e7%89%88%e6%9d%83%e7%9a%84plugin" aria-label="æ·»åŠ ç‰ˆæƒçš„plugin">æ·»åŠ ç‰ˆæƒçš„plugin</a></li>
                <li>
                    <a href="#%e6%89%93%e5%8c%85html%e7%9a%84plugin" aria-label="æ‰“åŒ…htmlçš„plugin">æ‰“åŒ…htmlçš„plugin</a></li>
                <li>
                    <a href="#js%e5%8e%8b%e7%bc%a9%e7%9a%84plugin" aria-label="jså‹ç¼©çš„Plugin">jså‹ç¼©çš„Plugin</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%90%ad%e5%bb%ba%e6%9c%ac%e5%9c%b0%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="æ­å»ºæœ¬åœ°æœåŠ¡å™¨">æ­å»ºæœ¬åœ°æœåŠ¡å™¨</a><ul>
                        <ul>
                        
                <li>
                    <a href="#webpack%e9%85%8d%e7%bd%ae%e7%9a%84%e5%88%86%e7%a6%bb" aria-label="webpacké…ç½®çš„åˆ†ç¦»">webpacké…ç½®çš„åˆ†ç¦»</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#bug%e8%ae%b0%e5%bd%95" aria-label="BUGè®°å½•">BUGè®°å½•</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        
        <div class="post-content"><h1 id="webpack-å®‰è£…">webpack å®‰è£…<a hidden class="anchor" aria-hidden="true" href="#webpack-å®‰è£…">#</a></h1>
<p>é¦–å…ˆéœ€è¦å®‰è£…Node.js, node.jsè‡ªå¸¦è½¯ä»¶åŒ…ç®¡ç†å·¥å…·npm</p>
<p>æŸ¥çœ‹nodeç‰ˆæœ¬</p>
<blockquote>
<p>node -v</p>
</blockquote>
<p>å…¨å±€å®‰è£…webpack</p>
<blockquote>
<p>npm install <a href="mailto:webpack@3.6.0">webpack@3.6.0</a> -g</p>
</blockquote>
<p>æœ¬åœ°å®‰è£…webpack</p>
<blockquote>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ</p>
<p><code>npm install webpack@3.6.0 --save-dev</code></p>
</blockquote>
<h1 id="webpackçš„åŸºæœ¬ä½¿ç”¨">webpackçš„åŸºæœ¬ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#webpackçš„åŸºæœ¬ä½¿ç”¨">#</a></h1>
<h2 id="é¡¹ç›®æ–‡ä»¶ç›®å½•">é¡¹ç›®æ–‡ä»¶ç›®å½•:<a hidden class="anchor" aria-hidden="true" href="#é¡¹ç›®æ–‡ä»¶ç›®å½•">#</a></h2>
<blockquote>
<ul>
<li>
<p>é¡¹ç›®</p>
<ul>
<li>
<p>dist     //æ‰“åŒ…å¥½çš„æ–‡ä»¶</p>
</li>
<li>
<p>src      //é¡¹ç›®æºç </p>
</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="webpack-æ‰“åŒ…jsæ–‡ä»¶">webpack æ‰“åŒ…jsæ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#webpack-æ‰“åŒ…jsæ–‡ä»¶">#</a></h2>
<h3 id="å¸¸è§„æ–¹å¼">å¸¸è§„æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#å¸¸è§„æ–¹å¼">#</a></h3>
<blockquote>
<p>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>webpack ./src/main.js ./dist/bundle.js
</span></span></code></pre></div></blockquote>
<h3 id="ç®€æ´çš„æ–¹å¼">ç®€æ´çš„æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#ç®€æ´çš„æ–¹å¼">#</a></h3>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºwebpack.config.jsæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">//ä»nodeä¸­å¼•å…¥åŒ…å†…å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//åœ¨ä½¿ç”¨å‰éœ€è¦åœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œ`npm init`å‘½ä»¤
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//å…¥å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;./src/main.js&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//å‡ºå£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//åŠ¨æ€è·å–è·¯å¾„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//ç”¨äºæ‹¼æ¥ä¸¤ä¸ªå˜é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä¾¿æ·æ‰“åŒ…æ–¹å¼:ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥&#39;webpack&#39;,å°±å¯ä»¥æ‰§è¡Œæ‰“åŒ…å‘½ä»¤
</span></span></span></code></pre></div><h3 id="æ›´é«˜æ•ˆçš„æ–¹å¼">æ›´é«˜æ•ˆçš„æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#æ›´é«˜æ•ˆçš„æ–¹å¼">#</a></h3>
<ol>
<li>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤:</p>
<p><code>npm init</code></p>
</li>
<li>
<p>ä¿®æ”¹package.jsonæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä½¿ç”¨ npm run buildæ‰§è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ä¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬webpack
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack&#34;</span>
</span></span><span style="display:flex;"><span>  }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="loader">loader<a hidden class="anchor" aria-hidden="true" href="#loader">#</a></h2>
<h3 id="å®‰è£…loader">å®‰è£…loader<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…loader">#</a></h3>
<h4 id="é…ç½®loader">é…ç½®loader<a hidden class="anchor" aria-hidden="true" href="#é…ç½®loader">#</a></h4>
<p><strong>ä¿®æ”¹åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„webpack.config.jsæ–‡ä»¶</strong></p>
<p>åœ¨module.exportsä¸­æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#75715e">//css-loader
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.css$/</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//css-loader åªè´Ÿè´£å°†cssæ–‡ä»¶è¿›è¡ŒåŠ è½½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//style-loaderè´Ÿè´£å°†æ ·å¼æ·»åŠ åˆ°DOMä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//ä½¿ç”¨å¤šä¸ªloaderæ—¶,æ˜¯ä»å³å‘å·¦è¯»å–çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [ <span style="color:#e6db74">&#39;style-loader&#39;</span>, <span style="color:#e6db74">&#39;css-loader&#39;</span>],
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><h3 id="å®‰è£…css-loader">å®‰è£…css-loader<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…css-loader">#</a></h3>
<p>ä»¥ä¸‹å‘½ä»¤é»˜è®¤å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„css-loader</p>
<p><code>npm install --save-dev css-lader</code></p>
<blockquote>
<p>åœ¨macä¸­,ç”±äºå®‰è£…çš„webpack3.6.0ç‰ˆæœ¬,ç›´æ¥æ‰§è¡Œä»¥ä¸Šå‘½ä»¤,å®¹æ˜“å‡ºç°é”™è¯¯(ç‰ˆæœ¬ä¸åŒ¹é…):</p>
</blockquote>
<p>![image-20220311172138730](/Users/cobb/Library/Application Support/typora-user-images/image-20220311172138730.png)</p>
<p>æŒ‡å®šç‰ˆæœ¬å®‰è£…æ–¹æ³•:</p>
<p><code>npm install --save-dev css-loader@0.28.11</code></p>
<h3 id="å®‰è£…style-loader">å®‰è£…style-loader<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…style-loader">#</a></h3>
<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„:</p>
<p><code>npm install style-loader --save-dev</code></p>
<p>å®‰è£…webpack3.6.0é€‚é…ç‰ˆæœ¬style-loader</p>
<p><code>npm install --save-dev style-loader@0.15.0</code></p>
<h3 id="lessæ–‡ä»¶å¤„ç†">lessæ–‡ä»¶å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#lessæ–‡ä»¶å¤„ç†">#</a></h3>
<p>å®‰è£…å¯¹åº”webpack3.6.0ç‰ˆæœ¬çš„lesså’Œless-loader</p>
<p><code>npm install --save-dev less-loader@5.0.0 less@3.13.1</code></p>
<h3 id="å›¾ç‰‡æ–‡ä»¶å¤„ç†">å›¾ç‰‡æ–‡ä»¶å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å›¾ç‰‡æ–‡ä»¶å¤„ç†">#</a></h3>
<p>å®‰è£…url-loader</p>
<p><code>npm install --save-devurl-loader@1.1.2</code></p>
<blockquote>
<p>åœ¨webpack.config.jsæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹éƒ¨åˆ†:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.(png|jpg|gif|jpeg)$/i</span>,
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>       {
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;url-loader&#39;</span>,
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>           <span style="color:#75715e">//å½“åŠ è½½çš„å›¾ç‰‡,å°äºlimitæ—¶,ä¼šå°†å›¾ç‰‡ç¼–è¯‘æˆbase64å­—ç¬¦ä¸²çš„å½¢å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           <span style="color:#75715e">//å½“åŠ è½½çš„å›¾ç‰‡å¤§äºlimitæ—¶,éœ€è¦ä½¿ç”¨file-loaderæ¨¡å—è¿›è¡ŒåŠ è½½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           <span style="color:#a6e22e">limit</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50000</span>,
</span></span><span style="display:flex;"><span>           <span style="color:#75715e">//åœ¨distæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆimgæ–‡ä»¶å¤¹ä»¥åŠå’ŒåŸå›¾ç‰‡åŒåçš„æ–‡ä»¶ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img/[name].[hash:8].[ext]&#39;</span>
</span></span><span style="display:flex;"><span>         },
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>     ]
</span></span><span style="display:flex;"><span>   }
</span></span></code></pre></div></blockquote>
<h3 id="es6è½¬es5è¯­æ³•">ES6è½¬ES5è¯­æ³•<a hidden class="anchor" aria-hidden="true" href="#es6è½¬es5è¯­æ³•">#</a></h3>
<p>ä½¿ç”¨babel-loader</p>
<h3 id="å¼•å…¥vuejs">å¼•å…¥vue.js<a hidden class="anchor" aria-hidden="true" href="#å¼•å…¥vuejs">#</a></h3>
<h4 id="é€šè¿‡npmå®‰è£…vue">é€šè¿‡npmå®‰è£…vue<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡npmå®‰è£…vue">#</a></h4>
<ul>
<li>å› ä¸ºåœ¨åç»­çš„å®é™…é¡¹ç›®ä¸­ä¹Ÿä¼šä½¿ç”¨vue,æ‰€ä»¥å¹¶ä¸æ˜¯å¼€å‘æ—¶ä¾èµ–,ä¸ç”¨åŠ **-dev**</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install vue --save
</span></span></code></pre></div><ul>
<li>åœ¨jsæ–‡ä»¶ä¸­å¼•å…¥vue</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#a6e22e">vue</span>
</span></span></code></pre></div><ul>
<li>
<p>å‡ºç°runtime-onlyé”™è¯¯:</p>
<p>åŸå› :</p>
<ol>
<li>runtime-only,ä»£ç ä¸­ä¸å¯ä»¥æœ‰ä»»ä½•çš„template</li>
<li>runtime-compiler,ä»£ç ä¸­å¯ä»¥æœ‰template,å› ä¸ºæœ‰compilerå¯ä»¥ç¼–è¯‘template</li>
</ol>
<p>è§£å†³åŠæ³•:åœ¨webpack.config.jsæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#a6e22e">resolve</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alias</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;vue$&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;vue/dist/vue.esm.js&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="vueåº”ç”¨ä¸­elå’ŒtemplateåŒºåˆ«">vueåº”ç”¨ä¸­&rsquo;el&rsquo;å’Œ&rsquo;template&rsquo;åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#vueåº”ç”¨ä¸­elå’ŒtemplateåŒºåˆ«">#</a></h4>
<p>templateä¼šå°†elä¸­çš„å†…å®¹è¿›è¡Œæ›¿æ¢</p>
<h4 id="æ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼">æ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#æ­£ç¡®ä½¿ç”¨vueçš„æ–¹å¼">#</a></h4>
<ul>
<li>
<p>å®‰è£…vue-loaderå’Œvue-template-compiler</p>
</li>
<li>
<p>é…ç½®webpack.config.js</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.vue$/</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;vue-loader&#39;</span>]
</span></span><span style="display:flex;"><span>      }
</span></span></code></pre></div></li>
<li>
<p>åœ¨srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºvueæ–‡ä»¶å¤¹</p>
<p>![image-20220312151241214](/Users/cobb/Library/Application Support/typora-user-images/image-20220312151241214.png)</p>
</li>
</ul>
<h1 id="plugin">Plugin<a hidden class="anchor" aria-hidden="true" href="#plugin">#</a></h1>
<h2 id="æ·»åŠ ç‰ˆæƒçš„plugin">æ·»åŠ ç‰ˆæƒçš„plugin<a hidden class="anchor" aria-hidden="true" href="#æ·»åŠ ç‰ˆæƒçš„plugin">#</a></h2>
<p>ä½¿ç”¨bannerpluginæ’ä»¶,webpackè‡ªå¸¦æ’ä»¶</p>
<p>ä¿®æ”¹webpack.config.jsæ–‡ä»¶</p>
<h2 id="æ‰“åŒ…htmlçš„plugin">æ‰“åŒ…htmlçš„plugin<a hidden class="anchor" aria-hidden="true" href="#æ‰“åŒ…htmlçš„plugin">#</a></h2>
<blockquote>
<p>HtmlWebpackPluginæ’ä»¶å¯ä»¥åšçš„äº‹æƒ…:</p>
<ul>
<li>è‡ªåŠ¨æ‰“åŒ…ç”Ÿæˆä¸€ä¸ªindex.htmlæ–‡ä»¶(å¯ä»¥æŒ‡å®šæ¨¡æ¿æ¥ç”Ÿæˆ)</li>
<li>å°†æ‰“åŒ…çš„jsæ–‡ä»¶,è‡ªåŠ¨é€šè¿‡scriptæ ‡ç­¾æ’å…¥åˆ°badyä¸­</li>
</ul>
</blockquote>
<p>å®‰è£…ä¹‹åé…ç½®webpack.config.jsæ–‡ä»¶å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>      <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">HtmlWebpackPlugin</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//æ ¹æ®ä»¥ä¸‹æ¨¡æ¿ç”Ÿæˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`index.html`</span>
</span></span><span style="display:flex;"><span>      })
</span></span></code></pre></div><h2 id="jså‹ç¼©çš„plugin">jså‹ç¼©çš„Plugin<a hidden class="anchor" aria-hidden="true" href="#jså‹ç¼©çš„plugin">#</a></h2>
<p>ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ’ä»¶Uglifyjs-webpack-plugin</p>
<p>éœ€è¦æŒ‡å®šç‰ˆæœ¬å·1.1.1,ä¿æŒå’ŒCIL2ä¸€è‡´</p>
<p><code>npm install --save-dev uglifyjs-webpack-plugin@1.1.1</code></p>
<h1 id="æ­å»ºæœ¬åœ°æœåŠ¡å™¨">æ­å»ºæœ¬åœ°æœåŠ¡å™¨<a hidden class="anchor" aria-hidden="true" href="#æ­å»ºæœ¬åœ°æœåŠ¡å™¨">#</a></h1>
<ul>
<li>
<p>è¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäºnode.js,å†…éƒ¨ä½¿ç”¨expressæ¡†æ¶,å¯ä»¥å®ç°æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºä¿®æ”¹åçš„ç»“æœ</p>
</li>
<li>
<p>å®‰è£…: <code>npm install --save-dev webpack-dev-server@2.9.3</code></p>
</li>
<li>
<p>è®¾ç½®:</p>
<ul>
<li>
<p>devserverä¹Ÿæ˜¯ä½œä¸ºwebpackä¸­çš„ä¸€ä¸ªé€‰é¡¹,å¯ä»¥è®¾ç½®å¦‚ä¸‹å±æ€§:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">contentBase</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ä¸ºå“ªä¸€ä¸ªæ–‡ä»¶å¤¹æä¾›æœ¬åœ°æœåŠ¡</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">port</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ç«¯å£å·</span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">inline</span><span style="color:#f92672">:</span><span style="color:#a6e22e">é¡µé¢å®æ—¶åˆ·æ–°</span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">historyApiFallback</span><span style="color:#f92672">:</span><span style="color:#a6e22e">åœ¨SPAé¡µé¢ä¸­</span>,<span style="color:#a6e22e">ä¾èµ–html5çš„historyæ¨¡å¼</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>å¯åŠ¨æ–¹å¼:</p>
<ul>
<li>åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ : <code>&quot;dev&quot;: &quot;webpack-dev-derver&quot;</code>
<ul>
<li>åœ¨åé¢æ·»åŠ  <code> --open</code> ,èƒ½å¤Ÿåœ¨å¯åŠ¨æœåŠ¡å™¨çš„åŒæ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</li>
</ul>
</li>
<li>åœ¨ç»ˆç«¯ä¸­è¾“å…¥: <code>npm rundev</code></li>
</ul>
</li>
<li>
<h3 id="webpacké…ç½®çš„åˆ†ç¦»">webpacké…ç½®çš„åˆ†ç¦»<a hidden class="anchor" aria-hidden="true" href="#webpacké…ç½®çš„åˆ†ç¦»">#</a></h3>
<ul>
<li>é¦–å…ˆå¯¹webpack.config.jsæ–‡ä»¶è¿›è¡ŒæŠ½ç¦»,åˆ†æˆä¸‰éƒ¨åˆ†:
<ul>
<li>base.config.js</li>
<li>dev.config.js</li>
<li>prod.config.js</li>
</ul>
</li>
<li>å®‰è£…-<strong>webpack-merge</strong>æ’ä»¶,å®ç°configæ–‡ä»¶çš„ä¸¤ä¸¤åˆå¹¶</li>
<li>åœ¨package.jsonæ–‡ä»¶ä¸­ä¿®æ”¹&quot;build&quot;å’Œ&quot;dev&quot;çš„è¿è¡Œè·¯å¾„</li>
<li></li>
</ul>
</li>
</ul>
<h1 id="bugè®°å½•">BUGè®°å½•<a hidden class="anchor" aria-hidden="true" href="#bugè®°å½•">#</a></h1>
<ol>
<li>
<p>å®‰è£…npmå‡ºç°é”™è¯¯:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm ERR! code EACCES
</span></span><span style="display:flex;"><span>npm ERR! syscall rename
</span></span><span style="display:flex;"><span>npm ERR! path /usr/local/lib/node_modules/npm
</span></span><span style="display:flex;"><span>npm ERR! dest /usr/local/lib/node_modules/.npm-i9nnxROI
</span></span><span style="display:flex;"><span>npm ERR! errno -13
</span></span><span style="display:flex;"><span>npm ERR! Error: EACCES: permission denied, rename <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/npm&#39;</span> -&gt; <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/.npm-i9nnxROI&#39;</span>
</span></span><span style="display:flex;"><span>npm ERR!  <span style="color:#f92672">[</span>Error: EACCES: permission denied, rename <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/npm&#39;</span> -&gt; <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/.npm-i9nnxROI&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>npm ERR!   errno: -13,
</span></span><span style="display:flex;"><span>npm ERR!   code: <span style="color:#e6db74">&#39;EACCES&#39;</span>,
</span></span><span style="display:flex;"><span>npm ERR!   syscall: <span style="color:#e6db74">&#39;rename&#39;</span>,
</span></span><span style="display:flex;"><span>npm ERR!   path: <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/npm&#39;</span>,
</span></span><span style="display:flex;"><span>npm ERR!   dest: <span style="color:#e6db74">&#39;/usr/local/lib/node_modules/.npm-i9nnxROI&#39;</span>
</span></span><span style="display:flex;"><span>npm ERR! <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>npm ERR!
</span></span><span style="display:flex;"><span>npm ERR! The operation was rejected by your operating system.
</span></span><span style="display:flex;"><span>npm ERR! It is likely you <span style="color:#66d9ef">do</span> not have the permissions to access this file as the current user
</span></span><span style="display:flex;"><span>npm ERR!
</span></span><span style="display:flex;"><span>npm ERR! If you believe this might be a permissions issue, please double-check the
</span></span><span style="display:flex;"><span>npm ERR! permissions of the file and its containing directories, or try running
</span></span><span style="display:flex;"><span>npm ERR! the command again as root/Administrator.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npm ERR! A complete log of this run can be found in:
</span></span><span style="display:flex;"><span>npm ERR!     /Users/cobb/.npm/_logs/2022-03-10T13_55_54_267Z-debug.log
</span></span></code></pre></div><p>è§£å†³åŠæ³•:</p>
<p>éœ€è¦åœ¨å‘½ä»¤å‰åŠ ä¸Š ==sudo==</p>
</li>
<li></li>
</ol>


        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://sirius00.github.io/posts/tech/html_css/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>HTML_CSS</span>
  </a>
  <a class="next" href="https://sirius00.github.io/posts/tech/vue2%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Vue2å­¦ä¹ ç¬”è®°</span>
  </a>
</nav>

        </footer>
    </div>
</article>
</main>


<script async src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>


<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<footer class="footer">
    <span>
        Copyright
        &copy;
        2020-2023
        <a href="https://sirius00.github.io/" style="color:#939393;">XP&#39;s Blog</a>
        All Rights Reserved
    </span>

    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;">å¡«å†™è‡ªå·±çš„å¤‡æ¡ˆå·</a>&nbsp;

    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="%e5%a1%ab%e8%87%aa%e5%b7%b1%e7%9a%84%e5%85%ac%e5%ae%89%e5%9b%be%e6%a0%87%e9%93%be%e6%8e%a5" style="float:left;margin: 0px 5px 0px 0px;"/>
            å¡«è‡ªå·±çš„å…¬ç½‘å®‰å¤‡
        </a>
    </span>

    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        æ€»è®¿å®¢æ•°: <span id="busuanzi_value_site_uv"></span>
        æ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span>
    </span>

</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + {
                { .
                    Site.Title
                }
            }
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + {
                { .
                    Site.Title
                }
            }
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerText = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ' + "XP's Blog"
                +'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild === container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName === "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
    $("code[class^=language] ").on("mouseover", function () {
        if (this.clientWidth < this.scrollWidth) {
            $(this).css("width", "135%")
        }
    }).on("mouseout", function () {
        $(this).css("width", "100%")
    })
</script>
</body>

</html>
